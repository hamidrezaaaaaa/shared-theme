{"ast":null,"code":"import { createDuration } from './create';\nvar round = Math.round,\n    thresholds = {\n  ss: 44,\n  // a few seconds to seconds\n  s: 45,\n  // seconds to minute\n  m: 45,\n  // minutes to hour\n  h: 22,\n  // hours to day\n  d: 26,\n  // days to month/week\n  w: null,\n  // weeks to month\n  M: 11 // months to year\n\n}; // helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize\n\nfunction substituteTimeAgo(string, number, withoutSuffix, isFuture, locale) {\n  return locale.relativeTime(number || 1, !!withoutSuffix, string, isFuture);\n}\n\nfunction relativeTime(posNegDuration, withoutSuffix, thresholds, locale) {\n  var duration = createDuration(posNegDuration).abs(),\n      seconds = round(duration.as('s')),\n      minutes = round(duration.as('m')),\n      hours = round(duration.as('h')),\n      days = round(duration.as('d')),\n      months = round(duration.as('M')),\n      weeks = round(duration.as('w')),\n      years = round(duration.as('y')),\n      a = seconds <= thresholds.ss && ['s', seconds] || seconds < thresholds.s && ['ss', seconds] || minutes <= 1 && ['m'] || minutes < thresholds.m && ['mm', minutes] || hours <= 1 && ['h'] || hours < thresholds.h && ['hh', hours] || days <= 1 && ['d'] || days < thresholds.d && ['dd', days];\n\n  if (thresholds.w != null) {\n    a = a || weeks <= 1 && ['w'] || weeks < thresholds.w && ['ww', weeks];\n  }\n\n  a = a || months <= 1 && ['M'] || months < thresholds.M && ['MM', months] || years <= 1 && ['y'] || ['yy', years];\n  a[2] = withoutSuffix;\n  a[3] = +posNegDuration > 0;\n  a[4] = locale;\n  return substituteTimeAgo.apply(null, a);\n} // This function allows you to set the rounding function for relative time strings\n\n\nexport function getSetRelativeTimeRounding(roundingFunction) {\n  if (roundingFunction === undefined) {\n    return round;\n  }\n\n  if (typeof roundingFunction === 'function') {\n    round = roundingFunction;\n    return true;\n  }\n\n  return false;\n} // This function allows you to set a threshold for relative time strings\n\nexport function getSetRelativeTimeThreshold(threshold, limit) {\n  if (thresholds[threshold] === undefined) {\n    return false;\n  }\n\n  if (limit === undefined) {\n    return thresholds[threshold];\n  }\n\n  thresholds[threshold] = limit;\n\n  if (threshold === 's') {\n    thresholds.ss = limit - 1;\n  }\n\n  return true;\n}\nexport function humanize(argWithSuffix, argThresholds) {\n  if (!this.isValid()) {\n    return this.localeData().invalidDate();\n  }\n\n  var withSuffix = false,\n      th = thresholds,\n      locale,\n      output;\n\n  if (typeof argWithSuffix === 'object') {\n    argThresholds = argWithSuffix;\n    argWithSuffix = false;\n  }\n\n  if (typeof argWithSuffix === 'boolean') {\n    withSuffix = argWithSuffix;\n  }\n\n  if (typeof argThresholds === 'object') {\n    th = Object.assign({}, thresholds, argThresholds);\n\n    if (argThresholds.s != null && argThresholds.ss == null) {\n      th.ss = argThresholds.s - 1;\n    }\n  }\n\n  locale = this.localeData();\n  output = relativeTime(this, !withSuffix, th, locale);\n\n  if (withSuffix) {\n    output = locale.pastFuture(+this, output);\n  }\n\n  return locale.postformat(output);\n}","map":{"version":3,"names":["createDuration","round","Math","thresholds","ss","s","m","h","d","w","M","substituteTimeAgo","string","number","withoutSuffix","isFuture","locale","relativeTime","posNegDuration","duration","abs","seconds","as","minutes","hours","days","months","weeks","years","a","apply","getSetRelativeTimeRounding","roundingFunction","undefined","getSetRelativeTimeThreshold","threshold","limit","humanize","argWithSuffix","argThresholds","isValid","localeData","invalidDate","withSuffix","th","output","Object","assign","pastFuture","postformat"],"sources":["/Users/soorena/projects/shared-theme/node_modules/moment/src/lib/duration/humanize.js"],"sourcesContent":["import { createDuration } from './create';\n\nvar round = Math.round,\n    thresholds = {\n        ss: 44, // a few seconds to seconds\n        s: 45, // seconds to minute\n        m: 45, // minutes to hour\n        h: 22, // hours to day\n        d: 26, // days to month/week\n        w: null, // weeks to month\n        M: 11, // months to year\n    };\n\n// helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize\nfunction substituteTimeAgo(string, number, withoutSuffix, isFuture, locale) {\n    return locale.relativeTime(number || 1, !!withoutSuffix, string, isFuture);\n}\n\nfunction relativeTime(posNegDuration, withoutSuffix, thresholds, locale) {\n    var duration = createDuration(posNegDuration).abs(),\n        seconds = round(duration.as('s')),\n        minutes = round(duration.as('m')),\n        hours = round(duration.as('h')),\n        days = round(duration.as('d')),\n        months = round(duration.as('M')),\n        weeks = round(duration.as('w')),\n        years = round(duration.as('y')),\n        a =\n            (seconds <= thresholds.ss && ['s', seconds]) ||\n            (seconds < thresholds.s && ['ss', seconds]) ||\n            (minutes <= 1 && ['m']) ||\n            (minutes < thresholds.m && ['mm', minutes]) ||\n            (hours <= 1 && ['h']) ||\n            (hours < thresholds.h && ['hh', hours]) ||\n            (days <= 1 && ['d']) ||\n            (days < thresholds.d && ['dd', days]);\n\n    if (thresholds.w != null) {\n        a =\n            a ||\n            (weeks <= 1 && ['w']) ||\n            (weeks < thresholds.w && ['ww', weeks]);\n    }\n    a = a ||\n        (months <= 1 && ['M']) ||\n        (months < thresholds.M && ['MM', months]) ||\n        (years <= 1 && ['y']) || ['yy', years];\n\n    a[2] = withoutSuffix;\n    a[3] = +posNegDuration > 0;\n    a[4] = locale;\n    return substituteTimeAgo.apply(null, a);\n}\n\n// This function allows you to set the rounding function for relative time strings\nexport function getSetRelativeTimeRounding(roundingFunction) {\n    if (roundingFunction === undefined) {\n        return round;\n    }\n    if (typeof roundingFunction === 'function') {\n        round = roundingFunction;\n        return true;\n    }\n    return false;\n}\n\n// This function allows you to set a threshold for relative time strings\nexport function getSetRelativeTimeThreshold(threshold, limit) {\n    if (thresholds[threshold] === undefined) {\n        return false;\n    }\n    if (limit === undefined) {\n        return thresholds[threshold];\n    }\n    thresholds[threshold] = limit;\n    if (threshold === 's') {\n        thresholds.ss = limit - 1;\n    }\n    return true;\n}\n\nexport function humanize(argWithSuffix, argThresholds) {\n    if (!this.isValid()) {\n        return this.localeData().invalidDate();\n    }\n\n    var withSuffix = false,\n        th = thresholds,\n        locale,\n        output;\n\n    if (typeof argWithSuffix === 'object') {\n        argThresholds = argWithSuffix;\n        argWithSuffix = false;\n    }\n    if (typeof argWithSuffix === 'boolean') {\n        withSuffix = argWithSuffix;\n    }\n    if (typeof argThresholds === 'object') {\n        th = Object.assign({}, thresholds, argThresholds);\n        if (argThresholds.s != null && argThresholds.ss == null) {\n            th.ss = argThresholds.s - 1;\n        }\n    }\n\n    locale = this.localeData();\n    output = relativeTime(this, !withSuffix, th, locale);\n\n    if (withSuffix) {\n        output = locale.pastFuture(+this, output);\n    }\n\n    return locale.postformat(output);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}